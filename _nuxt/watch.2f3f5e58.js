import{b as l,k as s,f as p,u as a,o as d,r as m,A as f,e as h,B as w,a as y,p as v,l as _,F as g}from"./entry.b40ca587.js";import{u as b}from"./use-route.bdd0eca7.js";const x=["src"],T=l({__name:"TheVideo",props:{code:{},autoplay:{type:Boolean}},setup(c){const t=c,o=s(()=>t.autoplay),e=s(()=>t.code);return(n,r)=>(d(),p("iframe",{style:{width:"100%","aspect-ratio":"9/6"},src:`https://www.youtube.com/embed/${a(e)}?${a(o)?"autoplay=1":""}`,title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:""},null,8,x))}}),S={class:"the-countdown"},$=l({__name:"TheCountdown",props:{seconds:{}},emits:["finished"],setup(c,{emit:t}){const o=c,e=m(o.seconds),n=s(()=>Math.floor(Date.now()/1e3)),r=()=>Math.floor(Date.now()/1e3),i=s(()=>{const u=new Date(0);return u.setSeconds(e.value),u.toISOString().substring(14,19)});return f(e,()=>{e<=0&&t("finished")}),h(()=>{setInterval(()=>{e.value=o.seconds-(r()-n.value)},1)}),(u,C)=>(d(),p("div",S,w(a(i)),1))}});const B=y($,[["__scopeId","data-v-3e10a49e"]]),k=l({__name:"watch",setup(c){const{getIntQueryParameter:t,getStringQueryParameter:o}=b(),e=v(),n=s(()=>t("timeout")),r=s(()=>o("code"));return setTimeout(()=>e.push("/"),n.value*1e3),(i,u)=>(d(),p(g,null,[_(B,{seconds:a(n),class:"mb-2em"},null,8,["seconds"]),_(T,{code:a(r),autoplay:!0},null,8,["code"])],64))}});export{k as default};
