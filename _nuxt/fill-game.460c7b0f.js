import{b as I,r as S,e as H,f as i,a as x,o as u,h as U,i as N,j as v,k as C,u as l,w as F,l as y,m as _,F as B,p as z,T as V,q as J,s as K,c as w,t as Y,v as Z,x as Q,y as ee,z as te}from"./entry.24743f66.js";import{T as E}from"./TheHeadline.9c4697f5.js";const ne=I({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(s,{slots:e,attrs:t}){const n=S(!1);return H(()=>{n.value=!0}),o=>{var h;if(n.value)return(h=e.default)==null?void 0:h.call(e);const r=e.fallback||e.placeholder;if(r)return r();const p=o.fallback||o.placeholder||"",d=o.fallbackTag||o.placeholderTag||"span";return i(d,t,p)}}});function a(s,e){return Math.floor(Math.random()*(e-s+1))+s}function se(s){return s[Math.floor(Math.random()*s.length)]}const ue=s=>s.map(e=>({value:e,sort:Math.random()})).sort((e,t)=>e.sort-t.sort).map(({value:e})=>e),P="&minus;",T="+",m="=",f="x";class c{constructor(e,t){this.calculation=e,this.solution=t}static createSumQuest(){const e=[],t=a(1,9),n=a(1,9);return e.push(t.toString()),e.push(T),e.push(n.toString()),e.push(m),e.push(f),new c(e.join(" "),t+n)}static create3PartSumQuest(){const e=[],t=a(1,6),n=a(1,7),o=a(1,6);return e.push(t.toString()),e.push(T),e.push(n.toString()),e.push(T),e.push(o.toString()),e.push(m),e.push(f),new c(e.join(" "),t+n+o)}static create3PartSumWithXInBetweenQuest(){const e=[],t=a(1,5),n=a(1,5),o=a(10,13),r=ue([t.toString(),n.toString(),"x"]);return e.push(r[0]),e.push(T),e.push(r[1]),e.push(T),e.push(r[2]),e.push(m),e.push(o.toString()),new c(e.join(" "),o-n-t)}static createTensSumQuest(){const e=[],t=a(1,7)*10,n=a(1,(100-t)/10)*10;return e.push(t.toString()),e.push(T),e.push(n.toString()),e.push(m),e.push(f),new c(e.join(" "),t+n)}static createTensMinusQuest(){const e=[],t=a(2,10)*10,n=a(1,t/10)*10;return e.push(t.toString()),e.push(P),e.push(n.toString()),e.push(m),e.push(f),new c(e.join(" "),t-n)}static createMinusQuest(){const e=[],t=a(8,15),n=a(1,8);return e.push(t.toString()),e.push(P),e.push(n.toString()),e.push(m),e.push(f),new c(e.join(" "),t-n)}static createBigNumberMinusQuest(){const e=[],t=a(24,99),n=a(1,9);return e.push(t.toString()),e.push(P),e.push(n.toString()),e.push(m),e.push(f),new c(e.join(" "),t-n)}getCalculation(){return this.calculation}getSolution(){return this.solution}getParts(){return this.calculation.split(" ").map(e=>e===f?new L("variable",e,null):new L("string",null,e))}verify(e){return(typeof e=="number"?e:parseInt(e))===this.solution}}class L{constructor(e,t,n){this.type=e,this.name=t,this.value=n}getType(){return this.type}getName(){return this.name}getValue(){return this.value}isSymbol(){return[T,P,f,m].includes(this.value||"")}getIdentifier(){return`${this.type}::${this.name||"no-name"}::${this.value||"no-value"}`}}const oe={},ae={class:"the-quest"};function re(s,e){return u(),i("div",ae,[U("div",null,[N(s.$slots,"default",{},void 0,!0)])])}const ce=x(oe,[["render",re],["__scopeId","data-v-99059384"]]);const le={},ie={class:"the-card"};function _e(s,e){return u(),i("div",ie,[N(s.$slots,"default",{},void 0,!0)])}const pe=x(le,[["render",_e],["__scopeId","data-v-1629d3e7"]]),de=["value"],he=I({__name:"TheFullInput",props:{modelValue:{},error:{type:Boolean}},emits:["update:modelValue"],setup(s,{emit:e}){const t=s,n=v(()=>t.error||!1);return(o,r)=>(u(),i("input",{class:C(["the-full-input",{error:l(n)}]),type:"text",value:t.modelValue,onInput:r[0]||(r[0]=p=>e("update:modelValue",p.target.value))},null,42,de))}});const me=x(he,[["__scopeId","data-v-be32a38c"]]),fe={class:"the-points"},ve=I({__name:"ThePoints",props:{currentPoints:{},max:{},minToAchieve:{}},emits:["success","fail","change"],setup(s,{emit:e}){const t=s,n=S(t.max||15),o=v(()=>t.minToAchieve||n.value),r=v(()=>t.currentPoints),p=v(()=>Array(n.value).fill(!0)),d=v(()=>12);return F(r,()=>{e(r.value===o.value?"success":"fail")}),(h,g)=>(u(),i("div",fe,[y(V,{columns:l(d)},{default:_(()=>[(u(!0),i(B,null,z(l(p),(b,k)=>(u(),i("div",{key:k,class:C(["point span-1",k<l(r)?"green":""])},null,2))),128))]),_:1},8,["columns"])]))}});const ge=x(ve,[["__scopeId","data-v-eb225bef"]]),G=async s=>await new Promise(e=>setTimeout(e,s)),be=I({__name:"TheButton",props:{color:{}},setup(s){const t=S(s.color||"green");return(n,o)=>(u(),i("button",{class:C(["the-button",`color-${l(t)}`])},[N(n.$slots,"default",{},void 0,!0)],2))}});const ye=x(be,[["__scopeId","data-v-5c72c98b"]]);const Te={},Se={class:"the-sad-face"};function xe(s,e){return u(),i("div",Se,":__(")}const we=x(Te,[["render",xe],["__scopeId","data-v-4f7c8d55"]]),Ie=["innerHTML"],ke=I({__name:"fill-game",setup(s){const e=J(),t=K(),n=v(()=>e.query.hard?"short-videos":"song-videos"),o=v(()=>e.query.hard?60*10:60*3),r=v(()=>e.query.hard?20:12),p=()=>se([()=>c.createTensSumQuest(),()=>c.createTensMinusQuest(),()=>c.create3PartSumWithXInBetweenQuest(),()=>c.createSumQuest(),()=>c.create3PartSumQuest(),()=>c.createMinusQuest(),()=>c.createBigNumberMinusQuest()])(),d=S(p()),h=S(0),g=S(!1),b=S(null),k=()=>b.value||"",j=()=>{const $=document.getElementsByClassName("input")[0];if(!($ instanceof HTMLInputElement))throw new TypeError("Could not find input");return $},q=async()=>{await G(1),j().focus()},R=()=>{if(d.value.verify(k())){b.value=null,h.value++,d.value=p(),q();return}g.value=!0,h.value=0},X=()=>{t.push({path:"/video/select",query:{timeout:o.value,collection:n.value}})},O=()=>{b.value=null,h.value=0,d.value=p(),g.value=!1,q()};return H(async()=>{await G(1),j().focus()}),($,A)=>{const W=ne;return u(),w(W,null,{default:_(()=>[y(ce,null,{default:_(()=>[y(Y,{tag:"form",onSubmit:Z(R,["prevent"])},{default:_(()=>[y(V,{gap:"2em"},{default:_(()=>[l(g)?(u(),i(B,{key:1},[y(E,null,{default:_(()=>[Q("Tenta de novo")]),_:1}),y(we)],64)):(u(),w(E,{key:0},{default:_(()=>[Q(" Ola isabella, faz as contas ! ")]),_:1})),y(ge,{"current-points":l(h),max:l(r),onSuccess:X},null,8,["current-points","max"]),(u(),w(V,{key:l(d).getCalculation(),columns:14,class:"quest"},{default:_(()=>[(u(!0),i(B,null,z(l(d).getParts(),M=>(u(),i("div",{key:M.getIdentifier(),class:"span-2"},[M.getType()==="string"?(u(),w(pe,{key:0,class:"text-center h-4em"},{default:_(()=>[U("span",{class:C(M.isSymbol()?"bigger":""),innerHTML:M.getValue()},null,10,Ie)]),_:2},1024)):(u(),w(me,{key:1,modelValue:l(b),"onUpdate:modelValue":A[0]||(A[0]=D=>te(b)?b.value=D:null),class:"text-center input",error:l(g),disabled:l(g)},null,8,["modelValue","error","disabled"]))]))),128))]),_:1})),l(g)?(u(),w(ye,{key:2,class:"span-6",onClick:O},{default:_(()=>[Q(" De novo ")]),_:1})):ee("",!0)]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})}}});const Pe=x(ke,[["__scopeId","data-v-f72f18df"]]);export{Pe as default};
