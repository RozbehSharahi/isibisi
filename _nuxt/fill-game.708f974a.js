import{b as P,r as T,e as D,f as p,a as I,o as c,h as E,i as j,j as x,k as M,u as l,l as S,w as d,F as w,m as N,T as k,p as Y,c as y,q as Z,s as ee,t as B,v as q,x as te}from"./entry.576c3329.js";import{T as A}from"./TheHeadline.c18efe65.js";import{u as ne}from"./use-route.736320a9.js";import{S as se,M as ue,N as oe}from"./index.69d4a289.js";const re=P({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(s,{slots:e,attrs:t}){const n=T(!1);return D(()=>{n.value=!0}),r=>{var _;if(n.value)return(_=e.default)==null?void 0:_.call(e);const o=e.fallback||e.placeholder;if(o)return o();const i=r.fallback||r.placeholder||"",b=r.fallbackTag||r.placeholderTag||"span";return p(b,t,i)}}});function a(s,e){return Math.floor(Math.random()*(e-s+1))+s}function V(s){return s[Math.floor(Math.random()*s.length)]}const H=s=>s.map(e=>({value:e,sort:Math.random()})).sort((e,t)=>e.sort-t.sort).map(({value:e})=>e),Q="&minus;",h="+",f="=",v="x";class u{constructor(e,t){this.calculation=e,this.solution=t}static createSumQuest(){const e=[],t=a(1,9),n=a(1,9);return e.push(t.toString()),e.push(h),e.push(n.toString()),e.push(f),e.push(v),new u(e.join(" "),t+n)}static create3PartSumQuest(){const e=[],t=a(1,6),n=a(1,7),r=a(1,6);return e.push(t.toString()),e.push(h),e.push(n.toString()),e.push(h),e.push(r.toString()),e.push(f),e.push(v),new u(e.join(" "),t+n+r)}static create3PartSumWithXInBetweenQuest(){const e=[],t=a(1,5),n=a(1,5),r=a(10,13),o=H([t.toString(),n.toString(),"x"]);return e.push(o[0]),e.push(h),e.push(o[1]),e.push(h),e.push(o[2]),e.push(f),e.push(r.toString()),new u(e.join(" "),r-n-t)}static createTensSumQuest(){const e=[],t=a(1,7)*10,n=a(1,(100-t)/10)*10;return e.push(t.toString()),e.push(h),e.push(n.toString()),e.push(f),e.push(v),new u(e.join(" "),t+n)}static createTensPlusRandomSumQuest(){const e=[];if(V([h,Q])===h){const n=a(1,30),r=a(1,5)*10,o=n+r,i=H([n.toString(),r.toString()]);return e.push(i[0]),e.push(h),e.push(i[1]),e.push(f),e.push(v),new u(e.join(" "),o)}else{const n=a(60,100),r=a(1,3)*10,o=n-r;return e.push(n.toString()),e.push(Q),e.push(r.toString()),e.push(f),e.push(v),new u(e.join(" "),o)}}static createTensMinusQuest(){const e=[],t=a(2,10)*10,n=a(1,t/10)*10;return e.push(t.toString()),e.push(Q),e.push(n.toString()),e.push(f),e.push(v),new u(e.join(" "),t-n)}static createMinusQuest(){const e=[],t=a(8,15),n=a(1,8);return e.push(t.toString()),e.push(Q),e.push(n.toString()),e.push(f),e.push(v),new u(e.join(" "),t-n)}static createBigNumberMinusQuest(){const e=[],t=a(24,99),n=a(1,9);return e.push(t.toString()),e.push(Q),e.push(n.toString()),e.push(f),e.push(v),new u(e.join(" "),t-n)}getCalculation(){return this.calculation}getSolution(){return this.solution}getParts(){return this.calculation.split(" ").map(e=>e===v?new O("variable",e,null):new O("string",null,e))}verify(e){return e?(typeof e=="number"?e:parseInt(e))===this.solution:!1}}class O{constructor(e,t,n){this.type=e,this.name=t,this.value=n}getType(){return this.type}isFixed(){return this.value!==null}isVariable(){return!this.isFixed()}getValue(){return this.value}isSymbol(){return[h,Q,v,f].includes(this.value||"")}getIdentifier(){return`${this.type}::${this.name||"no-name"}::${this.value||"no-value"}`}}const ae={},ce={class:"the-quest"};function le(s,e){return c(),p("div",ce,[E("div",null,[j(s.$slots,"default",{},void 0,!0)])])}const ie=I(ae,[["render",le],["__scopeId","data-v-99059384"]]),pe=P({__name:"TheCard",props:{color:{}},setup(s){const e=s;return(t,n)=>(c(),p("div",{class:x(["the-card",e.color])},[j(t.$slots,"default",{},void 0,!0)],2))}});const R=I(pe,[["__scopeId","data-v-cd311e31"]]),de=["value"],_e=P({__name:"TheFullInput",props:{modelValue:{},error:{type:Boolean}},emits:["update:modelValue"],setup(s,{emit:e}){const t=s,n=M(()=>t.error||!1);return(r,o)=>(c(),p("input",{class:x(["the-full-input",{error:l(n)}]),type:"text",value:t.modelValue,onInput:o[0]||(o[0]=i=>e("update:modelValue",i.target.value))},null,42,de))}});const me=I(_e,[["__scopeId","data-v-be32a38c"]]),he={class:"the-points"},fe=P({__name:"ThePoints",props:{currentPoints:{},max:{},minToAchieve:{}},setup(s){const e=s,t=T(e.max||15),n=M(()=>e.currentPoints),r=M(()=>Array(t.value).fill(!0)),o=M(()=>12);return(i,b)=>(c(),p("div",he,[S(k,{columns:l(o)},{default:d(()=>[(c(!0),p(w,null,N(l(r),(_,g)=>(c(),p("div",{key:g,class:x(["point span-1",g<l(n)?"green":""])},null,2))),128))]),_:1},8,["columns"])]))}});const ve=I(fe,[["__scopeId","data-v-d604ef70"]]),ge=P({__name:"TheButton",props:{color:{}},setup(s){const t=T(s.color||"green");return(n,r)=>(c(),p("button",{class:x(["the-button",`color-${l(t)}`])},[j(n.$slots,"default",{},void 0,!0)],2))}});const be=I(ge,[["__scopeId","data-v-5c72c98b"]]);const Se={},ye={class:"the-sad-face"};function Te(s,e){return c(),p("div",ye,":__(")}const xe=I(Se,[["render",Te],["__scopeId","data-v-4f7c8d55"]]),Ie=async s=>await new Promise(e=>setTimeout(e,s));function Qe(){const s=t=>{const n=document.querySelector(t);if(!(n instanceof HTMLInputElement))throw new TypeError("Could not find input");return n};return{getInputElement:s,focusInputElement:async t=>{await Ie(1),s(t).focus()}}}const Me=["innerHTML"],Pe=["innerHTML"],we=".fill-game-input",ke=P({__name:"fill-game",setup(s){const e={default:{timeout:180,neededPoints:12,collection:se,createQuest:()=>V([()=>u.createTensSumQuest(),()=>u.createTensMinusQuest(),()=>u.create3PartSumWithXInBetweenQuest(),()=>u.createSumQuest(),()=>u.create3PartSumQuest(),()=>u.createMinusQuest(),()=>u.createBigNumberMinusQuest()])()},media:{timeout:540,neededPoints:16,collection:ue,createQuest:()=>V([()=>u.createTensSumQuest(),()=>u.createTensMinusQuest(),()=>u.create3PartSumWithXInBetweenQuest(),()=>u.createSumQuest(),()=>u.create3PartSumQuest(),()=>u.createMinusQuest(),()=>u.createBigNumberMinusQuest()])()},tens:{timeout:600,neededPoints:12,collection:oe,createQuest:()=>V([()=>u.createTensPlusRandomSumQuest()])()}},{focusInputElement:t}=Qe(),{getStringQueryParameter:n}=ne(),r=Y(),o=M(()=>e[n("level")]||e.default),i=T(o.value.createQuest()),b=T(0),_=T(!1),g=T(null),G=M(()=>g.value||null),$=()=>t(we),U=()=>i.value.verify(G.value)?W():X(),W=()=>{if(b.value++,b.value>=o.value.neededPoints)return F();g.value=null,i.value=o.value.createQuest(),$()},X=()=>{_.value=!0,b.value=Math.max(0,b.value-3)},F=()=>{r.push({path:"/video/select",query:{timeout:o.value.timeout,collection:o.value.collection}})},z=()=>{i.value=o.value.createQuest(),g.value=null,_.value=!1,$()};return D(()=>$()),(C,L)=>{const J=re;return c(),y(J,null,{default:d(()=>[S(ie,null,{default:d(()=>[S(Z,{tag:"form",onSubmit:ee(U,["prevent"])},{default:d(()=>[S(k,{gap:"2em"},{default:d(()=>[l(_)?(c(),p(w,{key:1},[S(A,null,{default:d(()=>[B("Ai Ai Ai Isabella")]),_:1}),S(xe)],64)):(c(),y(A,{key:0},{default:d(()=>[B(" Ola isabella, faz as contas ! ")]),_:1})),S(ve,{"current-points":l(b),max:l(o).neededPoints},null,8,["current-points","max"]),l(_)?(c(),y(k,{key:l(i).getCalculation(),columns:14,class:"quest"},{default:d(()=>[(c(!0),p(w,null,N(l(i).getParts(),m=>(c(),p("div",{key:m.getIdentifier(),class:"span-2"},[S(R,{class:x(["text-center h-4em",m.isFixed()?"opacity-0":void 0]),color:m.isVariable()?"green":void 0},{default:d(()=>[E("span",{class:x(m.isSymbol()?"bigger":""),innerHTML:m.getValue()||l(i).getSolution()},null,10,Me)]),_:2},1032,["class","color"])]))),128))]),_:1})):q("",!0),(c(),y(k,{key:l(i).getCalculation(),columns:14,class:"quest"},{default:d(()=>[(c(!0),p(w,null,N(l(i).getParts(),m=>(c(),p("div",{key:m.getIdentifier(),class:"span-2"},[m.isFixed()?(c(),y(R,{key:0,class:"text-center h-4em"},{default:d(()=>[E("span",{class:x(m.isSymbol()?"bigger":""),innerHTML:m.getValue()},null,10,Pe)]),_:2},1024)):(c(),y(me,{key:1,modelValue:l(g),"onUpdate:modelValue":L[0]||(L[0]=K=>te(g)?g.value=K:null),class:"text-center fill-game-input",error:l(_),disabled:l(_)},null,8,["modelValue","error","disabled"]))]))),128))]),_:1})),l(_)?(c(),y(be,{key:3,class:"span-6",onClick:z},{default:d(()=>[B(" Continuar ")]),_:1})):q("",!0)]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})}}});const Ee=I(ke,[["__scopeId","data-v-79ceda66"]]);export{Ee as default};
