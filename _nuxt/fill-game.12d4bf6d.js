import{b as I,r as y,e as G,f as i,a as S,o as a,h as H,i as V,j as x,k as M,u as l,w as D,l as g,m as d,F as B,p as U,T as C,q as F,c as T,s as J,t as K,v as Q,x as Y,y as Z}from"./entry.6026203f.js";import{T as E}from"./TheHeadline.75826251.js";import{u as ee}from"./use-route.cd16b3ab.js";const te=I({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(s,{slots:e,attrs:t}){const n=y(!1);return G(()=>{n.value=!0}),u=>{var p;if(n.value)return(p=e.default)==null?void 0:p.call(e);const o=e.fallback||e.placeholder;if(o)return o();const _=u.fallback||u.placeholder||"",m=u.fallbackTag||u.placeholderTag||"span";return i(m,t,_)}}});function r(s,e){return Math.floor(Math.random()*(e-s+1))+s}function ne(s){return s[Math.floor(Math.random()*s.length)]}const se=s=>s.map(e=>({value:e,sort:Math.random()})).sort((e,t)=>e.sort-t.sort).map(({value:e})=>e),P="&minus;",b="+",h="=",f="x";class c{constructor(e,t){this.calculation=e,this.solution=t}static createSumQuest(){const e=[],t=r(1,9),n=r(1,9);return e.push(t.toString()),e.push(b),e.push(n.toString()),e.push(h),e.push(f),new c(e.join(" "),t+n)}static create3PartSumQuest(){const e=[],t=r(1,6),n=r(1,7),u=r(1,6);return e.push(t.toString()),e.push(b),e.push(n.toString()),e.push(b),e.push(u.toString()),e.push(h),e.push(f),new c(e.join(" "),t+n+u)}static create3PartSumWithXInBetweenQuest(){const e=[],t=r(1,5),n=r(1,5),u=r(10,13),o=se([t.toString(),n.toString(),"x"]);return e.push(o[0]),e.push(b),e.push(o[1]),e.push(b),e.push(o[2]),e.push(h),e.push(u.toString()),new c(e.join(" "),u-n-t)}static createTensSumQuest(){const e=[],t=r(1,7)*10,n=r(1,(100-t)/10)*10;return e.push(t.toString()),e.push(b),e.push(n.toString()),e.push(h),e.push(f),new c(e.join(" "),t+n)}static createTensMinusQuest(){const e=[],t=r(2,10)*10,n=r(1,t/10)*10;return e.push(t.toString()),e.push(P),e.push(n.toString()),e.push(h),e.push(f),new c(e.join(" "),t-n)}static createMinusQuest(){const e=[],t=r(8,15),n=r(1,8);return e.push(t.toString()),e.push(P),e.push(n.toString()),e.push(h),e.push(f),new c(e.join(" "),t-n)}static createBigNumberMinusQuest(){const e=[],t=r(24,99),n=r(1,9);return e.push(t.toString()),e.push(P),e.push(n.toString()),e.push(h),e.push(f),new c(e.join(" "),t-n)}getCalculation(){return this.calculation}getSolution(){return this.solution}getParts(){return this.calculation.split(" ").map(e=>e===f?new L("variable",e,null):new L("string",null,e))}verify(e){return(typeof e=="number"?e:parseInt(e))===this.solution}}class L{constructor(e,t,n){this.type=e,this.name=t,this.value=n}getType(){return this.type}getName(){return this.name}getValue(){return this.value}isSymbol(){return[b,P,f,h].includes(this.value||"")}getIdentifier(){return`${this.type}::${this.name||"no-name"}::${this.value||"no-value"}`}}const ue={},oe={class:"the-quest"};function ae(s,e){return a(),i("div",oe,[H("div",null,[V(s.$slots,"default",{},void 0,!0)])])}const re=S(ue,[["render",ae],["__scopeId","data-v-99059384"]]);const ce={},le={class:"the-card"};function ie(s,e){return a(),i("div",le,[V(s.$slots,"default",{},void 0,!0)])}const _e=S(ce,[["render",ie],["__scopeId","data-v-1629d3e7"]]),pe=["value"],de=I({__name:"TheFullInput",props:{modelValue:{},error:{type:Boolean}},emits:["update:modelValue"],setup(s,{emit:e}){const t=s,n=x(()=>t.error||!1);return(u,o)=>(a(),i("input",{class:M(["the-full-input",{error:l(n)}]),type:"text",value:t.modelValue,onInput:o[0]||(o[0]=_=>e("update:modelValue",_.target.value))},null,42,pe))}});const me=S(de,[["__scopeId","data-v-be32a38c"]]),he={class:"the-points"},fe=I({__name:"ThePoints",props:{currentPoints:{},max:{},minToAchieve:{}},emits:["success","fail","change"],setup(s,{emit:e}){const t=s,n=y(t.max||15),u=x(()=>t.minToAchieve||n.value),o=x(()=>t.currentPoints),_=x(()=>Array(n.value).fill(!0)),m=x(()=>12);return D(o,()=>{e(o.value===u.value?"success":"fail")}),(p,v)=>(a(),i("div",he,[g(C,{columns:l(m)},{default:d(()=>[(a(!0),i(B,null,U(l(_),(N,w)=>(a(),i("div",{key:w,class:M(["point span-1",w<l(o)?"green":""])},null,2))),128))]),_:1},8,["columns"])]))}});const ve=S(fe,[["__scopeId","data-v-eb225bef"]]),q=async s=>await new Promise(e=>setTimeout(e,s)),ge=I({__name:"TheButton",props:{color:{}},setup(s){const t=y(s.color||"green");return(n,u)=>(a(),i("button",{class:M(["the-button",`color-${l(t)}`])},[V(n.$slots,"default",{},void 0,!0)],2))}});const be=S(ge,[["__scopeId","data-v-5c72c98b"]]);const ye={},Se={class:"the-sad-face"};function Te(s,e){return a(),i("div",Se,":__(")}const xe=S(ye,[["render",Te],["__scopeId","data-v-4f7c8d55"]]),we=["innerHTML"],Ie=I({__name:"fill-game",setup(s){const e={hard:{timeout:600,neededPoints:20,collection:"short-movies"},default:{timeout:180,neededPoints:12,collection:"song-videos"}},{getStringQueryParameter:t}=ee(),n=F(),u=x(()=>e[t("level")]||e.default),o=()=>ne([()=>c.createTensSumQuest(),()=>c.createTensMinusQuest(),()=>c.create3PartSumWithXInBetweenQuest(),()=>c.createSumQuest(),()=>c.create3PartSumQuest(),()=>c.createMinusQuest(),()=>c.createBigNumberMinusQuest()])(),_=y(o()),m=y(0),p=y(!1),v=y(null),N=()=>v.value||"",w=()=>{const k=document.getElementsByClassName("input")[0];if(!(k instanceof HTMLInputElement))throw new TypeError("Could not find input");return k},j=async()=>{await q(1),w().focus()},R=()=>{if(_.value.verify(N())){v.value=null,m.value++,_.value=o(),j();return}p.value=!0,m.value=0},X=()=>{n.push({path:"/video/select",query:{timeout:u.value.timeout,collection:u.value.collection}})},z=()=>{v.value=null,m.value=0,_.value=o(),p.value=!1,j()};return G(async()=>{await q(1),w().focus()}),(k,A)=>{const O=te;return a(),T(O,null,{default:d(()=>[g(re,null,{default:d(()=>[g(J,{tag:"form",onSubmit:K(R,["prevent"])},{default:d(()=>[g(C,{gap:"2em"},{default:d(()=>[l(p)?(a(),i(B,{key:1},[g(E,null,{default:d(()=>[Q("Tenta de novo")]),_:1}),g(xe)],64)):(a(),T(E,{key:0},{default:d(()=>[Q(" Ola isabella, faz as contas ! ")]),_:1})),g(ve,{"current-points":l(m),max:l(u).neededPoints,onSuccess:X},null,8,["current-points","max"]),(a(),T(C,{key:l(_).getCalculation(),columns:14,class:"quest"},{default:d(()=>[(a(!0),i(B,null,U(l(_).getParts(),$=>(a(),i("div",{key:$.getIdentifier(),class:"span-2"},[$.getType()==="string"?(a(),T(_e,{key:0,class:"text-center h-4em"},{default:d(()=>[H("span",{class:M($.isSymbol()?"bigger":""),innerHTML:$.getValue()},null,10,we)]),_:2},1024)):(a(),T(me,{key:1,modelValue:l(v),"onUpdate:modelValue":A[0]||(A[0]=W=>Z(v)?v.value=W:null),class:"text-center input",error:l(p),disabled:l(p)},null,8,["modelValue","error","disabled"]))]))),128))]),_:1})),l(p)?(a(),T(be,{key:2,class:"span-6",onClick:z},{default:d(()=>[Q(" De novo ")]),_:1})):Y("",!0)]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})}}});const Me=S(Ie,[["__scopeId","data-v-da0d5861"]]);export{Me as default};
