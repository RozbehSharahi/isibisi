import{b as d,k as t,f as i,u as c,o as p,r as w,A as f,e as m,B as y,a as b,p as v,C as g,l as _,F as T}from"./entry.7ade541a.js";import{u as x}from"./use-route.387c77b3.js";const S=["src"],C=d({__name:"TheVideo",props:{code:{},autoplay:{type:Boolean}},setup(r){const o=r,s=t(()=>o.autoplay),e=t(()=>o.code);return(a,u)=>(p(),i("iframe",{style:{width:"100%","aspect-ratio":"9/6"},src:`https://www.youtube.com/embed/${c(e)}?${c(s)?"autoplay=1":""}`,title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:""},null,8,S))}}),$={class:"the-countdown"},B=d({__name:"TheCountdown",props:{seconds:{}},emits:["finished"],setup(r,{emit:o}){const s=r,e=w(s.seconds),a=t(()=>Math.floor(Date.now()/1e3)),u=()=>Math.floor(Date.now()/1e3),l=t(()=>{const n=new Date(0);return n.setSeconds(e.value),n.toISOString().substring(14,19)});return f(e,()=>{e.value<=0&&o("finished")}),m(()=>{setInterval(()=>{e.value=s.seconds-(u()-a.value)},1)}),(n,h)=>(p(),i("div",$,y(c(l)),1))}});const D=b(B,[["__scopeId","data-v-3b5d9b4b"]]),P=d({__name:"watch",setup(r){const{getIntQueryParameter:o,getStringQueryParameter:s}=x(),e=v(),a=t(()=>o("timeout")),u=t(()=>a.value*1e3),l=t(()=>s("code"));let n=0;return m(()=>{n=window.setTimeout(()=>e.push("/"),u.value)}),g(()=>{window.clearTimeout(n||0)}),(h,I)=>(p(),i(T,null,[_(D,{seconds:c(a),class:"mb-2em"},null,8,["seconds"]),_(C,{code:c(l),autoplay:!0},null,8,["code"])],64))}});export{P as default};
