import{b as w,r as S,e as A,f as i,a as y,o as u,h as q,i as B,j as x,k as P,u as l,l as g,w as _,F as Q,m as L,T as C,p as F,c as I,q as J,s as K,t as V,v as Y,x as Z}from"./entry.a693d455.js";import{T as N}from"./TheHeadline.f0a3e129.js";import{u as ee}from"./use-route.1bfc0e87.js";import{S as te,M as ne}from"./index.9aa793cb.js";const se=w({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(s,{slots:e,attrs:t}){const n=S(!1);return A(()=>{n.value=!0}),o=>{var p;if(n.value)return(p=e.default)==null?void 0:p.call(e);const a=e.fallback||e.placeholder;if(a)return a();const m=o.fallback||o.placeholder||"",h=o.fallbackTag||o.placeholderTag||"span";return i(h,t,m)}}});function r(s,e){return Math.floor(Math.random()*(e-s+1))+s}function ue(s){return s[Math.floor(Math.random()*s.length)]}const oe=s=>s.map(e=>({value:e,sort:Math.random()})).sort((e,t)=>e.sort-t.sort).map(({value:e})=>e),k="&minus;",b="+",f="=",v="x";class c{constructor(e,t){this.calculation=e,this.solution=t}static createSumQuest(){const e=[],t=r(1,9),n=r(1,9);return e.push(t.toString()),e.push(b),e.push(n.toString()),e.push(f),e.push(v),new c(e.join(" "),t+n)}static create3PartSumQuest(){const e=[],t=r(1,6),n=r(1,7),o=r(1,6);return e.push(t.toString()),e.push(b),e.push(n.toString()),e.push(b),e.push(o.toString()),e.push(f),e.push(v),new c(e.join(" "),t+n+o)}static create3PartSumWithXInBetweenQuest(){const e=[],t=r(1,5),n=r(1,5),o=r(10,13),a=oe([t.toString(),n.toString(),"x"]);return e.push(a[0]),e.push(b),e.push(a[1]),e.push(b),e.push(a[2]),e.push(f),e.push(o.toString()),new c(e.join(" "),o-n-t)}static createTensSumQuest(){const e=[],t=r(1,7)*10,n=r(1,(100-t)/10)*10;return e.push(t.toString()),e.push(b),e.push(n.toString()),e.push(f),e.push(v),new c(e.join(" "),t+n)}static createTensMinusQuest(){const e=[],t=r(2,10)*10,n=r(1,t/10)*10;return e.push(t.toString()),e.push(k),e.push(n.toString()),e.push(f),e.push(v),new c(e.join(" "),t-n)}static createMinusQuest(){const e=[],t=r(8,15),n=r(1,8);return e.push(t.toString()),e.push(k),e.push(n.toString()),e.push(f),e.push(v),new c(e.join(" "),t-n)}static createBigNumberMinusQuest(){const e=[],t=r(24,99),n=r(1,9);return e.push(t.toString()),e.push(k),e.push(n.toString()),e.push(f),e.push(v),new c(e.join(" "),t-n)}getCalculation(){return this.calculation}getParts(){return this.calculation.split(" ").map(e=>e===v?new j("variable",e,null):new j("string",null,e))}verify(e){return e?(typeof e=="number"?e:parseInt(e))===this.solution:!1}}class j{constructor(e,t,n){this.type=e,this.name=t,this.value=n}getType(){return this.type}getValue(){return this.value}isSymbol(){return[b,k,v,f].includes(this.value||"")}getIdentifier(){return`${this.type}::${this.name||"no-name"}::${this.value||"no-value"}`}}const ae={},re={class:"the-quest"};function ce(s,e){return u(),i("div",re,[q("div",null,[B(s.$slots,"default",{},void 0,!0)])])}const le=y(ae,[["render",ce],["__scopeId","data-v-99059384"]]);const ie={},_e={class:"the-card"};function pe(s,e){return u(),i("div",_e,[B(s.$slots,"default",{},void 0,!0)])}const de=y(ie,[["render",pe],["__scopeId","data-v-1629d3e7"]]),me=["value"],he=w({__name:"TheFullInput",props:{modelValue:{},error:{type:Boolean}},emits:["update:modelValue"],setup(s,{emit:e}){const t=s,n=x(()=>t.error||!1);return(o,a)=>(u(),i("input",{class:P(["the-full-input",{error:l(n)}]),type:"text",value:t.modelValue,onInput:a[0]||(a[0]=m=>e("update:modelValue",m.target.value))},null,42,me))}});const fe=y(he,[["__scopeId","data-v-be32a38c"]]),ve={class:"the-points"},ge=w({__name:"ThePoints",props:{currentPoints:{},max:{},minToAchieve:{}},setup(s){const e=s,t=S(e.max||15),n=x(()=>e.currentPoints),o=x(()=>Array(t.value).fill(!0)),a=x(()=>12);return(m,h)=>(u(),i("div",ve,[g(C,{columns:l(a)},{default:_(()=>[(u(!0),i(Q,null,L(l(o),(p,d)=>(u(),i("div",{key:d,class:P(["point span-1",d<l(n)?"green":""])},null,2))),128))]),_:1},8,["columns"])]))}});const be=y(ge,[["__scopeId","data-v-d604ef70"]]),Se=w({__name:"TheButton",props:{color:{}},setup(s){const t=S(s.color||"green");return(n,o)=>(u(),i("button",{class:P(["the-button",`color-${l(t)}`])},[B(n.$slots,"default",{},void 0,!0)],2))}});const ye=y(Se,[["__scopeId","data-v-5c72c98b"]]);const Te={},Ie={class:"the-sad-face"};function xe(s,e){return u(),i("div",Ie,":__(")}const we=y(Te,[["render",xe],["__scopeId","data-v-4f7c8d55"]]),Me=async s=>await new Promise(e=>setTimeout(e,s));function ke(){const s=t=>{const n=document.querySelector(t);if(!(n instanceof HTMLInputElement))throw new TypeError("Could not find input");return n};return{getInputElement:s,focusInputElement:async t=>{await Me(1),s(t).focus()}}}const Pe=["innerHTML"],$e=".fill-game-input",Ve=w({__name:"fill-game",setup(s){const e={default:{timeout:180,neededPoints:12,collection:te},media:{timeout:540,neededPoints:16,collection:ne}},{focusInputElement:t}=ke(),{getStringQueryParameter:n}=ee(),o=F(),a=x(()=>e[n("level")]||e.default),m=()=>ue([()=>c.createTensSumQuest(),()=>c.createTensMinusQuest(),()=>c.create3PartSumWithXInBetweenQuest(),()=>c.createSumQuest(),()=>c.create3PartSumQuest(),()=>c.createMinusQuest(),()=>c.createBigNumberMinusQuest()])(),h=S(m()),p=S(0),d=S(!1),T=S(null),G=x(()=>T.value||null),$=()=>t($e),H=()=>h.value.verify(G.value)?O():U(),O=()=>{if(p.value++,p.value>=a.value.neededPoints)return D();T.value=null,h.value=m(),$()},U=()=>{d.value=!0,p.value=Math.max(0,p.value-3)},D=()=>{o.push({path:"/video/select",query:{timeout:a.value.timeout,collection:a.value.collection}})},R=()=>{h.value=m(),T.value=null,d.value=!1,$()};return A(()=>$()),(X,E)=>{const z=se;return u(),I(z,null,{default:_(()=>[g(le,null,{default:_(()=>[g(J,{tag:"form",onSubmit:K(H,["prevent"])},{default:_(()=>[g(C,{gap:"2em"},{default:_(()=>[l(d)?(u(),i(Q,{key:1},[g(N,null,{default:_(()=>[V("Ai Ai Ai Isabella")]),_:1}),g(we)],64)):(u(),I(N,{key:0},{default:_(()=>[V(" Ola isabella, faz as contas ! ")]),_:1})),g(be,{"current-points":l(p),max:l(a).neededPoints},null,8,["current-points","max"]),(u(),I(C,{key:l(h).getCalculation(),columns:14,class:"quest"},{default:_(()=>[(u(!0),i(Q,null,L(l(h).getParts(),M=>(u(),i("div",{key:M.getIdentifier(),class:"span-2"},[M.getType()==="string"?(u(),I(de,{key:0,class:"text-center h-4em"},{default:_(()=>[q("span",{class:P(M.isSymbol()?"bigger":""),innerHTML:M.getValue()},null,10,Pe)]),_:2},1024)):(u(),I(fe,{key:1,modelValue:l(T),"onUpdate:modelValue":E[0]||(E[0]=W=>Z(T)?T.value=W:null),class:"text-center fill-game-input",error:l(d),disabled:l(d)},null,8,["modelValue","error","disabled"]))]))),128))]),_:1})),l(d)?(u(),I(ye,{key:2,class:"span-6",onClick:R},{default:_(()=>[V(" Continuar ")]),_:1})):Y("",!0)]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})}}});const Ne=y(Ve,[["__scopeId","data-v-d1053510"]]);export{Ne as default};
