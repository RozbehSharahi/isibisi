import{b as i,k as t,f as d,u as c,o as p,r as w,A as f,e as m,B as y,a as v,p as g,C as b,l as _,F as T}from"./entry.19e62a57.js";import{u as x}from"./use-route.06fdc41d.js";const S=["src"],C=i({__name:"TheVideo",props:{code:{},autoplay:{type:Boolean}},setup(r){const o=r,s=t(()=>o.autoplay),e=t(()=>o.code);return(a,u)=>(p(),d("iframe",{style:{width:"100%","aspect-ratio":"9/6"},src:`https://www.youtube.com/embed/${c(e)}?${c(s)?"autoplay=1":""}`,title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:""},null,8,S))}}),$={class:"the-countdown"},B=i({__name:"TheCountdown",props:{seconds:{}},emits:["finished"],setup(r,{emit:o}){const s=r,e=w(s.seconds),a=t(()=>Math.floor(Date.now()/1e3)),u=()=>Math.floor(Date.now()/1e3),l=t(()=>{const n=new Date(0);return n.setSeconds(e.value),n.toISOString().substring(14,19)});return f(e,()=>{e<=0&&o("finished")}),m(()=>{setInterval(()=>{e.value=s.seconds-(u()-a.value)},1)}),(n,h)=>(p(),d("div",$,y(c(l)),1))}});const D=v(B,[["__scopeId","data-v-3e10a49e"]]),P=i({__name:"watch",setup(r){const{getIntQueryParameter:o,getStringQueryParameter:s}=x(),e=g(),a=t(()=>o("timeout")),u=t(()=>a.value*1e3),l=t(()=>s("code"));let n=0;return m(()=>{n=window.setTimeout(()=>e.push("/"),u.value)}),b(()=>{window.clearTimeout(n||0)}),(h,I)=>(p(),d(T,null,[_(D,{seconds:c(a),class:"mb-2em"},null,8,["seconds"]),_(C,{code:c(l),autoplay:!0},null,8,["code"])],64))}});export{P as default};
